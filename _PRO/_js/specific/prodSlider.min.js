!function(s){"use strict";var t;t={slippryWrapper:'<div class="sy-box" />',slideWrapper:'<div class="sy-slides-wrap" />',slideCrop:'<div class="sy-slides-crop" />',boxClass:"sy-list",elements:"li",activeClass:"sy-active",fillerClass:"sy-filler",loadingClass:"sy-loading",adaptiveHeight:!0,start:1,loop:!0,captionsSrc:"img",captions:"overlay",captionsEl:".sy-caption",initSingle:!0,responsive:!0,preload:"visible",pager:!0,pagerClass:"sy-pager",controls:!0,controlClass:"sy-controls",prevClass:"sy-prev",prevText:"Previous",nextClass:"sy-next",nextText:"Next",hideOnEnd:!0,transition:"fade",kenZoom:120,slideMargin:0,transClass:"transition",speed:800,easing:"swing",continuous:!0,useCSS:!0,auto:!0,autoDirection:"next",autoHover:!0,autoHoverDelay:100,autoDelay:500,pause:4e3,onSliderLoad:function(){return this},onSlideBefore:function(){return this},onSlideAfter:function(){return this}},s.fn.slippry=function(i){var e,a,n,r,o,l,v,c,d,p,g,u,f,h,C,y,m,S,x,W,w,k,b,T,M,A,E;return 0===(a=this).length?this:a.length>1?(a.each(function(){s(this).slippry(i)}),this):((e={}).vars={},g=function(){var s,t,i;for(s in t=document.createElement("div"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd transitionend"})if(void 0!==t.style[s])return i[s]},M=document.createElement("div"),E=(A=["Khtml","Ms","O","Moz","Webkit"]).length,W=function(s){if(s in M.style)return!0;for(s=s.replace(/^[a-z]/,function(s){return s.toUpperCase()});E--;)if(A[E]+s in M.style)return!0;return!1},b=function(t,i){var e,a,n,r;return e=i.split("."),a=s(t),n="",r="",s.each(e,function(s,t){t.indexOf("#")>=0?n+=t.replace(/^#/,""):r+=t+" "}),n.length&&a.attr("id",n),r.length&&a.attr("class",s.trim(r)),a},T=function(){var s,t,i,a;i={},a={},s=100-e.settings.kenZoom,a.width=e.settings.kenZoom+"%",e.vars.active.index()%2==0?(a.left=s+"%",a.top=s+"%",i.left="0%",i.top="0%"):(a.left="0%",a.top="0%",i.left=s+"%",i.top=s+"%"),t=e.settings.pause+2*e.settings.speed,e.vars.active.css(a),e.vars.active.animate(i,{duration:t,easing:e.settings.easing,queue:!1})},d=function(){e.vars.fresh?(e.vars.slippryWrapper.removeClass(e.settings.loadingClass),e.vars.fresh=!1,e.settings.auto&&a.startAuto(),e.settings.useCSS||"kenburns"!==e.settings.transition||T(),e.settings.onSliderLoad.call(void 0,e.vars.active.index())):s("."+e.settings.fillerClass,e.vars.slideWrapper).addClass("ready")},h=function(t,i){var a;a=1/(t/i)*100+"%",s("."+e.settings.fillerClass,e.vars.slideWrapper).css({paddingTop:a}),d()},r=function(t){var i,e;void 0!==s("img",t).attr("src")?s("<img />").on("load",function(){i=t.width(),e=t.height(),h(i,e)}).attr("src",s("img",t).attr("src")):(i=t.width(),e=t.height(),h(i,e))},n=function(){var t,i,n;(0===s("."+e.settings.fillerClass,e.vars.slideWrapper).length&&e.vars.slideWrapper.append(s('<div class="'+e.settings.fillerClass+'" />')),!0===e.settings.adaptiveHeight)?r(s("."+e.settings.activeClass,a)):(i=0,n=0,s(e.vars.slides).each(function(){s(this).height()>i&&(t=s(this),i=t.height()),(n+=1)===e.vars.count&&(void 0===t&&(t=s(s(e.vars.slides)[0])),r(t))}))},f=function(){e.settings.pager&&(s("."+e.settings.pagerClass+" li",e.vars.slippryWrapper).removeClass(e.settings.activeClass),s(s("."+e.settings.pagerClass+" li",e.vars.slippryWrapper)[e.vars.active.index()]).addClass(e.settings.activeClass))},S=function(){!e.settings.loop&&e.settings.hideOnEnd&&(s("."+e.settings.prevClass,e.vars.slippryWrapper)[e.vars.first?"hide":"show"](),s("."+e.settings.nextClass,e.vars.slippryWrapper)[e.vars.last?"hide":"show"]())},l=function(){var t,i;!1!==e.settings.captions&&(t="img"!==e.settings.captionsSrc?e.vars.active.attr("title"):void 0!==s("img",e.vars.active).attr("title")?s("img",e.vars.active).attr("title"):s("img",e.vars.active).attr("alt"),i="custom"!==e.settings.captions?s(e.settings.captionsEl,e.vars.slippryWrapper):s(e.settings.captionsEl),void 0!==t&&""!==t?i.html(t).show():i.hide())},a.startAuto=function(){void 0===e.vars.timer&&void 0===e.vars.delay&&(e.vars.delay=window.setTimeout(function(){e.vars.autodelay=!1,e.vars.timer=window.setInterval(function(){e.vars.trigger="auto",m(e.settings.autoDirection)},e.settings.pause)},e.vars.autodelay?e.settings.autoHoverDelay:e.settings.autoDelay),e.settings.autoHover&&e.vars.slideWrapper.unbind("mouseenter").unbind("mouseleave").bind("mouseenter",function(){void 0!==e.vars.timer?(e.vars.hoverStop=!0,a.stopAuto()):e.vars.hoverStop=!1}).bind("mouseleave",function(){e.vars.hoverStop&&(e.vars.autodelay=!0,a.startAuto())}))},a.stopAuto=function(){window.clearInterval(e.vars.timer),e.vars.timer=void 0,window.clearTimeout(e.vars.delay),e.vars.delay=void 0},a.refresh=function(){e.vars.slides.removeClass(e.settings.activeClass),e.vars.active.addClass(e.settings.activeClass),e.settings.responsive?n():d(),S(),f(),l()},y=function(){a.refresh()},p=function(){e.vars.moving=!1,e.vars.active.removeClass(e.settings.transClass),e.vars.fresh||e.vars.old.removeClass("sy-ken"),e.vars.old.removeClass(e.settings.transClass),e.settings.onSlideAfter.call(void 0,e.vars.active,e.vars.old.index(),e.vars.active.index()),e.settings.auto&&(e.vars.hoverStop&&void 0!==e.vars.hoverStop||a.startAuto())},C=function(){var t,i,n,r,o,l,v;e.settings.onSlideBefore.call(void 0,e.vars.active,e.vars.old.index(),e.vars.active.index()),!1!==e.settings.transition?(e.vars.moving=!0,"fade"===e.settings.transition||"kenburns"===e.settings.transition?(e.vars.fresh?(e.settings.useCSS?e.vars.slides.css({transitionDuration:e.settings.speed+"ms",opacity:0}):e.vars.slides.css({opacity:0}),e.vars.active.css("opacity",1),"kenburns"===e.settings.transition&&e.settings.useCSS&&(o=e.settings.pause+2*e.settings.speed,e.vars.slides.css({animationDuration:o+"ms"}),e.vars.active.addClass("sy-ken")),p()):e.settings.useCSS?(e.vars.old.addClass(e.settings.transClass).css("opacity",0),e.vars.active.addClass(e.settings.transClass).css("opacity",1),"kenburns"===e.settings.transition&&e.vars.active.addClass("sy-ken"),s(window).off("focus").on("focus",function(){e.vars.moving&&e.vars.old.trigger(e.vars.transition)}),e.vars.old.one(e.vars.transition,function(){return p(),this})):("kenburns"===e.settings.transition&&T(),e.vars.old.addClass(e.settings.transClass).animate({opacity:0},e.settings.speed,e.settings.easing,function(){p()}),e.vars.active.addClass(e.settings.transClass).css("opacity",0).animate({opacity:1},e.settings.speed,e.settings.easing)),y()):("horizontal"===e.settings.transition||"vertical"===e.settings.transition)&&(l="horizontal"===e.settings.transition?"left":"top",t="-"+e.vars.active.index()*(100+e.settings.slideMargin)+"%",e.vars.fresh?(a.css(l,t),p()):(v={},e.settings.continuous&&(!e.vars.jump||"controls"!==e.vars.trigger&&"auto"!==e.vars.trigger||(i=!0,r=t,e.vars.first?(n=0,e.vars.active.css(l,e.vars.count*(100+e.settings.slideMargin)+"%"),t="-"+e.vars.count*(100+e.settings.slideMargin)+"%"):(n=(e.vars.count-1)*(100+e.settings.slideMargin)+"%",e.vars.active.css(l,-(100+e.settings.slideMargin)+"%"),t=100+e.settings.slideMargin+"%"))),e.vars.active.addClass(e.settings.transClass),e.settings.useCSS?(v[l]=t,v.transitionDuration=e.settings.speed+"ms",a.addClass(e.settings.transition),a.css(v),s(window).off("focus").on("focus",function(){e.vars.moving&&a.trigger(e.vars.transition)}),a.one(e.vars.transition,function(){return a.removeClass(e.settings.transition),i&&(e.vars.active.css(l,n),v[l]=r,v.transitionDuration="0ms",a.css(v)),p(),this})):(v[l]=t,a.stop().animate(v,e.settings.speed,e.settings.easing,function(){return i&&(e.vars.active.css(l,n),a.css(l,r)),p(),this}))),y())):(y(),p())},x=function(s){e.vars.first=e.vars.last=!1,"prev"===s||0===s?e.vars.first=!0:("next"===s||s===e.vars.count-1)&&(e.vars.last=!0)},m=function(t){var i,n;e.vars.moving||("auto"!==e.vars.trigger&&a.stopAuto(),i=e.vars.active.index(),"prev"===t?(n=t,i>0?t=i-1:e.settings.loop&&(t=e.vars.count-1)):"next"===t?(n=t,i<e.vars.count-1?t=i+1:e.settings.loop&&(t=0)):n=i>(t-=1)?"prev":"next",e.vars.jump=!1,"prev"===t||"next"===t||t===i&&!e.vars.fresh||(x(t),e.vars.old=e.vars.active,e.vars.active=s(e.vars.slides[t]),(0===i&&"prev"===n||i===e.vars.count-1&&"next"===n)&&(e.vars.jump=!0),C()))},a.goToSlide=function(s){e.vars.trigger="external",m(s)},a.goToNextSlide=function(){e.vars.trigger="external",m("next")},a.goToPrevSlide=function(){e.vars.trigger="external",m("prev")},v=function(){if(e.settings.pager&&e.vars.count>1){var t,i,a;for(t=e.vars.slides.length,a=s('<ul class="'+e.settings.pagerClass+'" />'),i=1;t+1>i;i+=1)a.append(s("<li />").append(s('<a href="#'+i+'">'+i+"</a>")));e.vars.slippryWrapper.append(a),s("."+e.settings.pagerClass+" a",e.vars.slippryWrapper).click(function(){return e.vars.trigger="pager",m(parseInt(this.hash.split("#")[1],10)),!1}),f()}},c=function(){e.settings.controls&&e.vars.count>1&&(e.vars.slideWrapper.append(s('<ul class="'+e.settings.controlClass+'" />').append('<li class="'+e.settings.prevClass+'"><a href="#prev">'+e.settings.prevText+"</a></li>").append('<li class="'+e.settings.nextClass+'"><a href="#next">'+e.settings.nextText+"</a></li>")),s("."+e.settings.controlClass+" a",e.vars.slippryWrapper).click(function(){return e.vars.trigger="controls",m(this.hash.split("#")[1]),!1}),S())},u=function(){!1!==e.settings.captions&&("overlay"===e.settings.captions?e.vars.slideWrapper.append(s('<div class="sy-caption-wrap" />').html(b("<div />",e.settings.captionsEl))):"below"===e.settings.captions&&e.vars.slippryWrapper.append(s('<div class="sy-caption-wrap" />').html(b("<div />",e.settings.captionsEl))))},k=function(){m(e.vars.active.index()+1)},w=function(t){var i,a,n,r;return r="all"===e.settings.preload?t:e.vars.active,n=s("img, iframe",r),0===(i=n.length)?void k():(a=0,void n.each(function(){s(this).one("load error",function(){++a===i&&k()}).each(function(){this.complete&&s(this).trigger("load")})}))},a.getCurrentSlide=function(){return e.vars.active},a.getSlideCount=function(){return e.vars.count},a.destroySlider=function(){!1===e.vars.fresh&&(a.stopAuto(),e.vars.moving=!1,e.vars.slides.each(function(){void 0!==s(this).data("sy-cssBckup")?s(this).attr("style",s(this).data("sy-cssBckup")):s(this).removeAttr("style"),void 0!==s(this).data("sy-classBckup")?s(this).attr("class",s(this).data("sy-classBckup")):s(this).removeAttr("class")}),void 0!==a.data("sy-cssBckup")?a.attr("style",a.data("sy-cssBckup")):a.removeAttr("style"),void 0!==a.data("sy-classBckup")?a.attr("class",a.data("sy-classBckup")):a.removeAttr("class"),e.vars.slippryWrapper.before(a),e.vars.slippryWrapper.remove(),e.vars.fresh=void 0)},a.reloadSlider=function(){a.destroySlider(),o()},(o=function(){var n;return e.settings=s.extend({},t,i),e.vars.slides=s(e.settings.elements,a),e.vars.count=e.vars.slides.length,e.settings.useCSS&&(W("transition")||(e.settings.useCSS=!1),e.vars.transition=g()),a.data("sy-cssBckup",a.attr("style")),a.data("sy-classBackup",a.attr("class")),a.addClass(e.settings.boxClass).wrap(e.settings.slippryWrapper).wrap(e.settings.slideWrapper).wrap(e.settings.slideCrop),e.vars.slideWrapper=a.parent().parent(),e.vars.slippryWrapper=e.vars.slideWrapper.parent().addClass(e.settings.loadingClass),e.vars.fresh=!0,e.vars.slides.each(function(){s(this).addClass("sy-slide "+e.settings.transition),e.settings.useCSS&&s(this).addClass("useCSS"),"horizontal"===e.settings.transition?s(this).css("left",s(this).index()*(100+e.settings.slideMargin)+"%"):"vertical"===e.settings.transition&&s(this).css("top",s(this).index()*(100+e.settings.slideMargin)+"%")}),e.vars.count>1||e.settings.initSingle?(-1===s("."+e.settings.activeClass,a).index()?(n="random"===e.settings.start?Math.round(Math.random()*(e.vars.count-1)):e.settings.start>0&&e.settings.start<=e.vars.count?e.settings.start-1:0,e.vars.active=s(e.vars.slides[n]).addClass(e.settings.activeClass)):e.vars.active=s("."+e.settings.activeClass,a),c(),v(),u(),void w(e.vars.slides)):this})(),this)}}(jQuery);